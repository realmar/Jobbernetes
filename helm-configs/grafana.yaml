persistence:
  type: pvc
  enabled: true
  existingClaim: grafana-pvc

  ## If persistence is not enabled, this allows to mount the
  ## local storage in-memory to improve performance
  ##
  inMemory:
    enabled: false
    ## The maximum usage on memory medium EmptyDir would be
    ## the minimum value between the SizeLimit specified
    ## here and the sum of memory limits of all containers in a pod
    ##
    # sizeLimit: 300Mi

# Administrator credentials when not using an existing secret (see below)
adminUser: admin
adminPassword: admin

# Execute following to retrieve the secrets:
# kubectl get secret --namespace default grafana -o jsonpath="{.data.admin-password}" | base64 --decode ; echo
# Use an existing secret for the admin user.
admin:
  existingSecret: ""
  userKey: admin-user
  passwordKey: admin-password

## Grafana's primary configuration
## NOTE: values in map will be converted to ini format
## ref: http://docs.grafana.org/installation/configuration/
##
#grafana.ini:
#  paths:
#    data: /var/lib/grafana/data
#    logs: /var/log/grafana
#    plugins: /var/lib/grafana/plugins
#    provisioning: /etc/grafana/provisioning
#  analytics:
#    check_for_updates: true
#  log:
#    mode: console
#  grafana_net:
#    url: https://grafana.net

## Configure grafana datasources
## ref: http://docs.grafana.org/administration/provisioning/#datasources
##
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        url: http://prometheus-server
        access: proxy
        isDefault: true
      - name: InfluxDB
        type: influxdb
        url: http://influxdb:8086
        access: proxy
        database: djs-prometheus
        isDefault: false
      - name: Loki
        type: loki
        url: http://loki:3100
        access: proxy
        isDefault: false

ingress:
  enabled: true
  path: /

  # pathType is only for k8s > 1.19
  pathType: Prefix

  hosts:
    - grafana.localhost
