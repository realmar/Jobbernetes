persistence:
  type: pvc
  enabled: true
  existingClaim: grafana-pvc

securityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 100m
    memory: 128Mi

# Administrator credentials when not using an existing secret (see below)
adminUser: admin
adminPassword: admin22

# Execute following to retrieve the secrets:
# kubectl get secret --namespace default grafana -o jsonpath="{.data.admin-password}" | base64 --decode ; echo
# Use an existing secret for the admin user.
admin:
  existingSecret: ""
  userKey: admin-user
  passwordKey: admin-password

## Configure grafana datasources
## ref: http://docs.grafana.org/administration/provisioning/#datasources
##
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        url: http://prometheus-server
        access: proxy
        isDefault: true
      - name: InfluxDB
        type: influxdb
        url: http://influxdb:8086
        access: proxy
        database: jobbernetes-prometheus
        isDefault: false
      - name: Loki
        type: loki
        url: http://loki:3100
        access: proxy
        isDefault: false

## Configure grafana dashboard providers
## ref: http://docs.grafana.org/administration/provisioning/#dashboards
##
## `path` must be /var/lib/grafana/dashboards/<provider_name>
##
dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
    - name: 'default'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      editable: true
      options:
        path: /var/lib/grafana/dashboards/default

## Configure grafana dashboard to import
## NOTE: To use dashboards you must also enable/configure dashboardProviders
## ref: https://grafana.com/dashboards
##
## dashboards per provider, use provider name as key.
##
dashboards:
  default:
    rabbitmq:
      gnetId: 4371
      datasource: Prometheus
    mongodb:
      gnetId: 7353
      datasource: Prometheus

ingress:
  enabled: true
  hosts:
    - grafana.localhost
